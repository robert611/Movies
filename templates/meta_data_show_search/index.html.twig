{% extends 'base.html.twig' %}

{% block title %}Movies - Search Show{% endblock %}

{% block body %}
    <header id="meta-data-search-header" class="padding-left-300">
        <div class="sidenav">
            <h3 class="mt-3 mb-3 text-white">Categories</h3>

            {% for category in categories %}
                <li class="sidenav-link"><a href="{{ path('meta_data_show_search', {categoryId: category.id}) }}">{{ category.name|capitalize }}</a></li>
            {% endfor %}

            <h3 class="mt-3 mb-3 text-white">Themes</h3>

            {% for theme in themes %}
                <li class="sidenav-link"><a href="{{ path('meta_data_show_search', {themeId: theme.id}) }}">{{ theme.name|capitalize }}</a></li>
            {% endfor %}

            <h3 class="mt-3 mb-3 text-white">Networks</h3>

            {% for studio in studios %}
                <li class="sidenav-link"><a href="{{ path('meta_data_show_search', {studioId: studio.id}) }}">{{ studio.name|capitalize }}</a></li>
            {% endfor %}
        </div>
    </header>

    <main id="meta-data-search-main" class="padding-left-300">
        <div class="container-fluid p-5">
            {% if foundShows is iterable and foundShows|length is not same as(0) %}

                <div class="mb-4">
                    {% if category is not same as(null) %}
                        <h4>Wyniki dla kategorii: {{ category.name|capitalize }}</h4>
                    {% elseif theme is not same as(null) %}
                        <h4>Wyniki dla motywu: {{ theme.name|capitalize }}</h4>
                    {% elseif studio is not same as(null) %}
                        <h4>Wyniki dla studia: {{ studio.name|capitalize }}</h4>
                    {% else %}
                        <h4>Wszystkie filmy i seriale</h4>
                    {% endif %}
                </div>

                <div class="row">
                    {% for show in foundShows %}
                        <div class="xol-xs-12 col-sm-6 col-md-3">
                            <div class="card mb-4">
                                <img class="latest-episode-picture" src="{{ asset('assets/pictures/shows/'~show.picture) }}" alt="{{ show.picture }}">
                                <div class="card-body">
                                    <a class="text-decoration-none" href="{{ path('show_index', {'showTableName' : show.databaseTableName}) }}">
                                        <h5 class="card-title">
                                            {{ show.name }}
                                        </h5>
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <h4 class="text-center">Nie znaleziono żadnego serialu ani filmu o takim motywie, kategorii bądź studiu</h4>
            {% endif %}
        </div>
    </main>
{% endblock %}
